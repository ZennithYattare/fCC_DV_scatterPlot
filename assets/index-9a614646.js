(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();function g(){const i=d3.select("#scatter-plot").append("g").attr("id","legend").style("opacity",.9).style("position","absolute").style("left","850px").style("top","260px").style("width","210px").style("background-color","white").style("border","1px solid black").style("padding","6px"),o=d3.select("#scatter-plot").append("div").attr("id","tooltip").style("opacity",0),t=d3.select("#scatter-plot").append("svg").attr("width",920).attr("height",570+10);let r=[];fetch("https://raw.githubusercontent.com/freeCodeCamp/ProjectReferenceData/master/cyclist-data.json").then(s=>s.json()).then(s=>{r=s,console.log(r[0]);const l=d3.scaleLinear().domain([d3.min(r,e=>e.Year-1),d3.max(r,e=>e.Year+1)]).range([0,920-50]),c=d3.scaleTime().domain(d3.extent(r,e=>new Date(e.Seconds*1e3))).range([0,570-16]),p=d3.axisBottom(l).tickFormat(d3.format("d")),y=d3.axisLeft(c).tickFormat(d3.timeFormat("%M:%S"));t.append("g").call(p).attr("id","x-axis").attr("transform","translate(35, 554)"),t.append("g").call(y).attr("id","y-axis").attr("transform","translate(35, 0)"),t.selectAll("circle").data(r).enter().append("circle").attr("cx",(e,a)=>l(e.Year)+35).attr("cy",(e,a)=>c(new Date(e.Seconds*1e3))).attr("r",5).attr("class","dot").attr("data-xvalue",(e,a)=>e.Year).attr("data-yvalue",(e,a)=>new Date(e.Seconds*1e3)).style("opacity",.6).style("fill",(e,a)=>e.Doping===""?"blue":"red").on("mouseover",(e,a)=>{o.style("opacity",.9),o.attr("data-year",a.Year),o.html(a.Nationality+": "+a.Name+"<br/>Year: "+a.Year+", Time: "+a.Time+(a.Doping?"<br/><br/>"+a.Doping:"")),o.style("left",e.pageX+"px"),o.style("top",e.pageY-20+"px")}).on("mouseout",function(e){o.transition().duration(200).style("opacity",0)}),i.append("text").text("No doping allegations").style("font-size","12px"),i.append("svg").attr("id","svgLegend").attr("width",18).attr("height",18).append("rect").attr("width",18).attr("height",18).style("opacity",.9).style("fill","blue"),i.append("br"),i.append("text").text("Riders with doping allegations").style("font-size","12px"),i.append("svg").attr("id","svgLegend").attr("width",18).attr("height",18).append("rect").attr("width",18).attr("height",18).style("opacity",.9).style("fill","red")})}document.querySelector("#app").innerHTML=`
  <div class="bg-[#242424] flex h-screen w-screen place-items-center">
    <div class="min-w-[960px] w-[960px] h-[650px] border-4 border-t-slate-200 border-l-slate-200 border-r-[#808080] border-b-[#808080] bg-[#c0c0c0] shadow-[5px_5px_5px_black] mx-auto p-4">
      <div id="title" class="text-4xl mx-auto w-max">Professional Bicycle Racing Doping Allegations</div>
      <div id="scatter-plot" class="m-0 p-0"></div>
    </div>
  </div>
`;g(document.querySelector("#scatter-plot"));
